import{u as v,z as w,r as n,o as y,f as V,a as s,w as a,b as c,d as u,i,x as r,O as k}from"./index-C40GVefy.js";const C={class:"mt-20 w-96 mx-auto bg-[#282828]/90 rounded-lg border border-zinc-600/80"},L={class:"flex justify-center"},j=c("div",{class:"py-4"},[c("h1",{class:"text-center text-xl"},"登录账户")],-1),z={class:"flex justify-between"},U={__name:"RegisterAndLogin",setup(B){const p=v(),t=w({name:"",passwd:""}),g=()=>{i.post("/users/register",t).then(function(e){r({type:"success",message:"注册成功！"+e.data}),m()}).catch(function(e){r({type:"error",message:"错误"+e.response.data})})},m=()=>{i.post("/users/login",t).then(function(e){p.isLogin=!0,p.token=e.data.token,r({type:"success",message:"登录成功！"}),k.back()}).catch(function(e){r({type:"error",message:"错误!"+e})})},x=()=>{i.post("http://localhost:8080/register",{username:"test",password:"test"}).then(function(e){console.log(e.data)})};return(e,o)=>{const h=n("el-avatar"),_=n("el-input"),f=n("el-form-item"),d=n("el-button"),b=n("el-form");return y(),V("div",C,[s(b,{class:"px-6 py-8",model:t},{default:a(()=>[c("div",L,[s(h,{size:50,src:"/src/assets/img/head.jpg"})]),j,s(f,null,{default:a(()=>[s(_,{placeholder:"用户名",modelValue:t.name,"onUpdate:modelValue":o[0]||(o[0]=l=>t.name=l)},null,8,["modelValue"])]),_:1}),s(f,null,{default:a(()=>[s(_,{placeholder:"密码",modelValue:t.passwd,"onUpdate:modelValue":o[1]||(o[1]=l=>t.passwd=l),type:"password"},null,8,["modelValue"])]),_:1}),c("div",z,[s(d,{class:"flex-1",onClick:m},{default:a(()=>[u("登录")]),_:1}),s(d,{class:"flex-1",onClick:g},{default:a(()=>[u("注册")]),_:1}),s(d,{class:"flex-1",onClick:o[2]||(o[2]=l=>x())},{default:a(()=>[u("测试")]),_:1})])]),_:1},8,["model"])])}}};export{U as default};
