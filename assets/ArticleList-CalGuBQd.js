import{u as w,h as d,l as b,i as p,r as a,o as v,f as y,b as l,a as t,w as u,x as s,d as g}from"./index-C40GVefy.js";const x=l("div",null,"ArticleList",-1),k={class:"max-w-screen-md mx-auto py-14"},C={__name:"ArticleList",setup(A){const _=w(),n=d(null),r=d([]);b(()=>{c()});const c=()=>{p.get("/articles/list").then(o=>{r.value=o.data})},m=()=>{const o=n.value.getSelectionRows();if(o.length===0){s({type:"error",message:"请选择要删除的文章"});return}o.map(i=>{p.delete(`/articles/${i._id}`,{headers:{Authorization:_.token}}).then(()=>{c(),s({type:"success",message:"删除成功!"})}).catch(e=>{s({type:"error",message:"删除失败: "+e.response.data})})})};return(o,i)=>{const e=a("el-table-column"),h=a("el-table"),f=a("el-button");return v(),y("div",null,[x,l("div",k,[t(h,{ref_key:"table",ref:n,data:r.value,stripe:"",style:{width:"100%"},"table-layout":"auto"},{default:u(()=>[t(e,{type:"selection",width:"55"}),t(e,{property:"title",label:"标题",width:"120","show-overflow-tooltip":""}),t(e,{property:"time",label:"时间",width:"240","show-overflow-tooltip":""}),t(e,{property:"_id",label:"id","show-overflow-tooltip":""})]),_:1},8,["data"]),l("div",null,[t(f,{onClick:m},{default:u(()=>[g("按钮")]),_:1})])])])}}};export{C as default};
